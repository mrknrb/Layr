<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<div style="border-style:outset;overflow: hidden; resize: horizontal;background-color:red;width:100px;height:fit-content;position: absolute;top:50px;left:50px">
    <div style="background-color:blue;width:100%;height:50px">

    </div>
    <div style="background-color:green;width:100%;height:50px">

    </div>
<textarea id="textarea" style="resize:none;background-color:blue;width: calc(100% - 5px);height:100px ">
    hjfhfjghmfghm fghm fh mfgh mf ghmf j hjfhfjghmfghm fghm fh mfgh mf ghmf j hjfhfjghmfghm fghm fh mfgh mf ghmf j</textarea>

    <textarea id="textarea2" style="resize:vertical;background-color:blue;width: calc(100% - 5px);height:100px ">
    hjfhfjghmfghm fghm fh mfgh mf ghmf j hjfhfjghmfghm fghm fh mfgh mf ghmf j hjfhfjghmfghm fghm fh mfgh mf ghmf j</textarea>

</div>


<script>

let textarea=document.querySelector("#textarea")
    let a = new ResizeObserver(function () {
        adjustSize()

    }).observe(textarea)
    document.querySelector("#textarea").addEventListener("keyup", function (e) {
        adjustSize()
    })
function adjustSize() {
    textarea.style.height = "5px"
    textarea.style.height = (textarea.scrollHeight - 3) + "px"
}
</script>

</body>
</html>